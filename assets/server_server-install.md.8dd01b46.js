import{_ as s,c as a,o as n,a as l}from"./app.c312d211.js";const p="/myBlog/assets/server-install-2.0cf98d30.png",o="/myBlog/assets/server-install-1.c1bc55a8.png",e="/myBlog/assets/server-install-3.96723bc6.png",m=JSON.parse('{"title":"linux \u90E8\u7F72 nodejs \u751F\u4EA7\u73AF\u5883","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5B89\u88C5 node","slug":"\u5B89\u88C5-node","link":"#\u5B89\u88C5-node","children":[]},{"level":2,"title":"\u5B89\u88C5 git","slug":"\u5B89\u88C5-git","link":"#\u5B89\u88C5-git","children":[]},{"level":2,"title":"\u5B89\u88C5 mysql","slug":"\u5B89\u88C5-mysql","link":"#\u5B89\u88C5-mysql","children":[]},{"level":2,"title":"\u5B89\u88C5 nginx","slug":"\u5B89\u88C5-nginx","link":"#\u5B89\u88C5-nginx","children":[]},{"level":2,"title":"\u5B89\u88C5 pm2","slug":"\u5B89\u88C5-pm2","link":"#\u5B89\u88C5-pm2","children":[]}],"relativePath":"server/server-install.md"}'),t={name:"server/server-install.md"},c=l(`<h1 id="linux-\u90E8\u7F72-nodejs-\u751F\u4EA7\u73AF\u5883" tabindex="-1">linux \u90E8\u7F72 nodejs \u751F\u4EA7\u73AF\u5883 <a class="header-anchor" href="#linux-\u90E8\u7F72-nodejs-\u751F\u4EA7\u73AF\u5883" aria-hidden="true">#</a></h1><h2 id="\u5B89\u88C5-node" tabindex="-1">\u5B89\u88C5 node <a class="header-anchor" href="#\u5B89\u88C5-node" aria-hidden="true">#</a></h2><p>\u4E0B\u8F7D\u5730\u5740\uFF1A <a href="https://nodejs.org/en/download" target="_blank" rel="noreferrer">https://nodejs.org/en/download</a></p><ol><li><p>\u76F4\u63A5\u5728\u5B98\u7F51\u4E2D\u4E0B\u8F7D\uFF0C\u7136\u540E\u901A\u8FC7 ftp \u5DE5\u5177\u4E22\u5230\u670D\u52A1\u5668\u518D\u8FDB\u884C\u89E3\u538B\u5B89\u88C5</p></li><li><p>\u53EF\u4EE5\u901A\u8FC7\u547D\u4EE4\u4E0B\u8F7D\uFF0C\u7136\u540E\u89E3\u538B\u5B89\u88C5\uFF08\u4E0B\u8F7D\u7684\u76EE\u5F55\u81EA\u884C\u9009\u62E9\uFF0C\u8FD9\u91CC\u4E0B\u8F7D\u5230/usr/local\uFF09</p></li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">wget https://nodejs.org/dist/v17.0.0/node-v17.0.0-linux-x64.tar.xz</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u89E3\u538B\u4E0B\u8F7D\u7684\u538B\u7F29\u5305</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">tar -xvf node-v17.0.0-linux-x64.tar.xz</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u66F4\u6539\u89E3\u538B\u51FA\u6765\u7684\u6587\u4EF6\u5939\u540D\u79F0\uFF08\u53EF\u4EE5\u9009\u62E9\u4E0D\u66F4\u6539\uFF0C\u4E3A\u4E86\u540E\u9762\u65B9\u4FBF\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0\uFF0C\u6211\u8FD9\u91CC\u5C06\u5176\u6539\u6210 node\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">mv /usr/local/node-v17.0.0-linux-x64 /usr/local/node</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li></ol><p>\u8F93\u5165\u547D\u4EE4\u540E\u6309 i \u952E\u8FDB\u884C\u4FEE\u6539\uFF0C\u6700\u540E\u4FEE\u6539\u5B8C\u540E\u6309 esc \u952E\uFF0C\u7136\u540E\u8F93\u5165:wq \u4FDD\u5B58\u9000\u51FA</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">vim /etc/profile</span></span>
<span class="line"></span></code></pre></div><p>\u5728 profile \u6587\u4EF6\u6700\u540E\u4E00\u884C\u52A0\u4E0A export PATH=$PATH:/usr/local/node/bin</p><ol start="6"><li>\u8BA9\u65B0\u7684\u914D\u7F6E\u751F\u6548</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /etc/profile</span></span>
<span class="line"></span></code></pre></div><ol start="7"><li>\u914D\u7F6E\u8F6F\u94FE\u63A5\uFF0C\u67E5\u770B node \u7248\u672C\uFF1Anode -v\uFF0C\u67E5\u770B npm \u7248\u672C\uFF1Anpm -v</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">ln -s /usr/local/node/bin/node /usr/local/bin/</span></span>
<span class="line"><span style="color:#A6ACCD;">ln -s /usr/local/node/bin/npm /usr/local/bin/</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B89\u88C5-git" tabindex="-1">\u5B89\u88C5 git <a class="header-anchor" href="#\u5B89\u88C5-git" aria-hidden="true">#</a></h2><p>\u4E0B\u8F7D\u5730\u5740\uFF1A<a href="https://github.com/git/git/tags" target="_blank" rel="noreferrer">https://github.com/git/git/tags</a></p><ol><li>\u4E0B\u8F7D\u4F9D\u8D56\u5305</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4E0B\u8F7D git \u5230\u670D\u52A1\u5668\uFF0C\u89E3\u538B\u540E\u7F16\u8BD1\u5B89\u88C5</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">tar zxvf git-2.33.3.tar.gz</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> git-2.33.3</span></span>
<span class="line"><span style="color:#A6ACCD;">make prefix=/usr/local/git all</span></span>
<span class="line"><span style="color:#A6ACCD;">make prefix=/usr/local/git install</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">vim /etc/profile</span></span>
<span class="line"></span></code></pre></div><p>\u5728 profile \u6587\u4EF6\u6700\u540E\u4E00\u884C\u52A0\u4E0A export PATH=$PATH:/usr/local/git/bin</p><ol start="4"><li>\u8BA9\u65B0\u7684\u914D\u7F6E\u751F\u6548</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /etc/profile</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>\u8BBE\u7F6E git \u5168\u5C40\u7528\u6237\u540D\u548C\u90AE\u7BB1</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">git config --global user.name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">git config --global user.email </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li>\u4E3A github \u8D26\u53F7\u6DFB\u52A0 SSH keys\uFF08\u7CFB\u7EDF\u4F1A\u63D0\u793A key \u7684\u4FDD\u5B58\u4F4D\u7F6E\uFF08\u4E00\u822C\u662F~/.ssh \u76EE\u5F55\uFF09\u548C\u6307\u5B9A\u53E3\u4EE4\uFF0C\u4FDD\u6301\u9ED8\u8BA4\uFF0C\u8FDE\u7EED\u4E09\u6B21\u5373\u53EF\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">ssh-keygen -t rsa -C </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx@qq.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ol start="7"><li>\u540E vim \u6253\u5F00 id_rsa.pub \u6587\u4EF6\uFF0C\u7C98\u8D34\u5230 github \u8D26\u53F7\u7BA1\u7406\u7684\u6DFB\u52A0 SSH KEY \u754C\u9762\u4E2D</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">vim </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/.ssh/id_rsa.pub</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B89\u88C5-mysql" tabindex="-1">\u5B89\u88C5 mysql <a class="header-anchor" href="#\u5B89\u88C5-mysql" aria-hidden="true">#</a></h2><ol><li>\u4E0B\u8F7D mysql\uFF08\u53EF\u4EE5\u5728\u8FD9\u91CC\uFF1A<a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noreferrer">https://dev.mysql.com/downloads/repo/yum/</a> \u770B\u5F53\u524D\u6700\u65B0\u7248\u672C\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">rpm -ivh http://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u5B89\u88C5 mysql</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">yum install -y mysql-server</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install mysql-community-server</span></span>
<span class="line"></span></code></pre></div><p><img src="`+p+`" alt=""></p><p>ps\uFF1A\u5982\u679C\u6709\u4E0A\u9762\u9519\u8BEF\uFF0C\u5BFC\u5165 key \u540E\u91CD\u65B0\u5B89\u88C5\uFF0C\u7EC8\u7AEF\u663E\u793A Complete \u5219\u5B89\u88C5\u5B8C\u6210</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u8BBE\u7F6E\u5F00\u673A\u542F\u52A8 Mysql</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> mysqld.service</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u68C0\u67E5\u662F\u5426\u5DF2\u7ECF\u5B89\u88C5\u4E86\u5F00\u673A\u81EA\u542F\u52A8</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">systemctl list-unit-files </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep mysqld</span></span>
<span class="line"><span style="color:#676E95;">#\u5982\u679C\u663E\u793A\u4EE5\u4E0B\u5185\u5BB9\u8BF4\u660E\u5DF2\u7ECF\u5B8C\u6210\u81EA\u52A8\u542F\u52A8\u5B89\u88C5\uFF1Amysqld.service enabled</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>\u8BBE\u7F6E\u5F00\u542F\u670D\u52A1</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">systemctl start mysqld.service</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li>\u767B\u5F55\u4FEE\u6539 mysql \u5BC6\u7801</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;">#\u67E5\u770Bmysql\u9ED8\u8BA4\u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">temporary password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> /var/log/mysqld.log</span></span>
<span class="line"><span style="color:#676E95;">#\u7B2C\u4E00\u6B21\u767B\u5F55mysql\uFF0C\u8F93\u5165\u8D26\u53F7\u548C\u9ED8\u8BA4\u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql -uroot -p</span></span>
<span class="line"><span style="color:#676E95;">#\u4FEE\u6539\u5F53\u524D\u5BC6\u7801\uFF08MySQL8.0\u4FEE\u6539\u5BC6\u7801\u9700\u8981\u6709\u5927\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u7279\u6B8A\u5B57\u7B26\u7EC4\u5408\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> ALTER USER </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u4F60\u7684\u5BC6\u7801</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">#\u547D\u4EE4\u7ACB\u5373\u6267\u884C\u751F\u6548</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> flush privileges</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="7"><li>\u8865\u5145\uFF1A\u5916\u7F51/\u5BA2\u6237\u7AEF\u8BBF\u95EE\u95EE\u9898\uFF0C\u6BD4\u5982 navicat \u8FDE\u63A5 <img src="`+o+`" alt=""> \u89E3\u51B3\u65B9\u6848\uFF0C\u767B\u5F55 MySQL\uFF0C\u4FEE\u6539 user \u8868\u767B\u5F55\u7528\u6237\u7684 host</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;">#\u8FDC\u7A0B\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> use mysql</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> update user </span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> host=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> where user=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">#\u6388\u6743\u7528\u6237\u540D\u7684\u6743\u9650\uFF0C\u8D4B\u4E88\u4EFB\u4F55\u4E3B\u673A\u8BBF\u95EE\u6570\u636E\u7684\u6743\u9650</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> GRANT ALL PRIVILEGES ON </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> TO </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> WITH GRANT OPTION</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> FLUSH PRIVILEGES</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="8"><li>\u7136\u540E\u53C8\u51FA\u73B0\u4E86\u4E0B\u9762\u95EE\u9898 <img src="`+e+`" alt=""> mysql \u767B\u5F55\u7528\u6237\u5BC6\u7801\u8BBE\u7F6E\u597D\u540E,\u9700\u8981\u5F00\u53D1\u5B89\u5168\u7EC4\u7AEF\u53E3\uFF0C\u5E76\u4E14\u597D\u50CF\u4E0A\u9762\u7684\u4E0D\u662F mysql8.0 \u7248\u672C\uFF0C\u56E0\u4E3A 8.0 \u7248\u672C\u7684\u52A0\u5BC6\u65B9\u5F0F\u6539\u53D8\u4E86\uFF0Cmysql8 \u4EE5\u540E\u7684\u52A0\u5BC6\u89C4\u5219\u4E3A caching_sha2_password\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u5C06 mysql \u7528\u6237\u767B\u5F55\u7684\u52A0\u5BC6\u89C4\u5219\u4FEE\u6539\u4E3A mysql_native_password(\u6CE8\u610F\uFF0C\u7531\u4E8E\u4E4B\u524D\u6539\u4E86 user\uFF0C\u8FD9\u91CC@&quot;%&quot;)</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> ALTER USER </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u4F60\u521A\u521A\u8BBE\u7F6E\u7684mysql\u5BC6\u7801</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> PASSWORD EXPIRE NEVER</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> ALTER USER </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED WITH mysql_native_password BY </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u4F60\u521A\u521A\u8BBE\u7F6E\u7684mysql\u5BC6\u7801</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> FLUSH PRIVILEGES</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="9"><li>\u8865\u5145\uFF1A\u6570\u636E\u5E93\u7684\u76F8\u5173\u64CD\u4F5C</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;">#\u542F\u52A8mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl start mysqld.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u7ED3\u675F</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl stop mysqld.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u91CD\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl restart mysqld.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u5F00\u673A\u81EA\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> mysqld.service</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B89\u88C5-nginx" tabindex="-1">\u5B89\u88C5 nginx <a class="header-anchor" href="#\u5B89\u88C5-nginx" aria-hidden="true">#</a></h2><p>\u4E0B\u8F7D\u5730\u5740\uFF1A<a href="http://nginx.org/en/download.html" target="_blank" rel="noreferrer">http://nginx.org/en/download.html</a></p><ol><li>\u5B89\u88C5\u4F9D\u8D56\u5305</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">yum install -y gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u9009\u62E9 nginx \u7248\u672C\u4E0B\u8F7D\uFF08\u5F53\u524D\u4E0B\u8F7D\u5728/usr/local\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">wget http://nginx.org/download/nginx-1.23.1.tar.gz</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u89E3\u538B\u4E0B\u8F7D\u7684\u538B\u7F29\u5305</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">tar -xvf nginx-1.23.1.tar.gz</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u914D\u7F6E nginx \u5E76\u5B89\u88C5</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> nginx-1.23.1</span></span>
<span class="line"><span style="color:#A6ACCD;">./configure </span><span style="color:#676E95;">#\u914D\u7F6Enginx</span></span>
<span class="line"><span style="color:#A6ACCD;">make</span></span>
<span class="line"><span style="color:#A6ACCD;">make install</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>\u914D\u7F6E\u8F6F\u94FE\u63A5</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">ln -s /usr/local/nginx/sbin/nginx  /usr/local/bin/</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li>\u8BBE\u7F6E nginx \u5F00\u673A\u81EA\u542F</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /etc/systemd/system</span></span>
<span class="line"><span style="color:#A6ACCD;">vim nginx.service</span></span>
<span class="line"><span style="color:#676E95;">#\u8BBE\u7F6E\u6587\u4EF6\u6743\u9650</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod 755 nginx.service</span></span>
<span class="line"><span style="color:#676E95;">#\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> nginx</span></span>
<span class="line"></span></code></pre></div><p>\u5C06\u4E0B\u9762\u5185\u5BB9\u7C98\u8D34\u8FDB\u53BB nginx.service\uFF08\u6B64\u5904\u8981\u6CE8\u610F nginx \u5B89\u88C5\u7684\u8DEF\u5F84\uFF0C\u5F53\u524D\u662F\u5728/usr/local/nginx\uFF09</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[Unit]</span></span>
<span class="line"><span style="color:#A6ACCD;">Description=nginx service</span></span>
<span class="line"><span style="color:#A6ACCD;">After=network.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Service]</span></span>
<span class="line"><span style="color:#A6ACCD;">Type=forking</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStart=/usr/local/nginx/sbin/nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecReload=/usr/local/nginx/sbin/nginx -s reload</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStop=/usr/local/nginx/sbin/nginx -s quit</span></span>
<span class="line"><span style="color:#A6ACCD;">PrivateTmp=true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Install]</span></span>
<span class="line"><span style="color:#A6ACCD;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="7"><li>nginx \u8865\u5145</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;">#\u542F\u52A8nginx\u670D\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl start nginx</span></span>
<span class="line"><span style="color:#676E95;">#\u67E5\u770Bnginx\u8FD0\u884C\u72B6\u6001</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl status nginx</span></span>
<span class="line"><span style="color:#676E95;">#\u91CD\u542Fnginx\u670D\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl restart nginx</span></span>
<span class="line"><span style="color:#676E95;">#\u505C\u6B62nginx\u670D\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl stop nginx</span></span>
<span class="line"><span style="color:#676E95;">#\u8BBE\u7F6Enginx\u670D\u52A1\u5F00\u673A\u81EA\u542F\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> nginx</span></span>
<span class="line"><span style="color:#676E95;">#\u53D6\u6D88\u8BBE\u7F6Enginx\u670D\u52A1\u5F00\u673A\u81EA\u542F\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl disable nginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B89\u88C5-pm2" tabindex="-1">\u5B89\u88C5 pm2 <a class="header-anchor" href="#\u5B89\u88C5-pm2" aria-hidden="true">#</a></h2><p>\u7BA1\u7406 node \u9879\u76EE</p><ol><li>\u5168\u5C40\u5B89\u88C5 pm2\uFF0C\u4F7F\u7528 pm2 -v \u67E5\u770B\u662F\u5426\u5B89\u88C5\u6210\u529F</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">npm install pm2 -g</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4F7F\u7528 pm2 \u7BA1\u7406 node \u9879\u76EE</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /usr/local/school_manage/server</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js --name school_manage</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u8BBE\u7F6E\u5F00\u673A\u542F\u52A8 pm2 \u7BA1\u7406\u7684\u5E94\u7528\uFF08\u5426\u5219\u91CD\u542F\u540E pm2 \u7BA1\u7406\u7684\u9879\u76EE\u4F1A\u4E0D\u5728\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">pm2 startup </span><span style="color:#676E95;">#\u751F\u6210\u5F00\u673A\u542F\u52A8 pm2 \u670D\u52A1\u7684\u914D\u7F6E\u6587\u4EF6</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u4FDD\u5B58\u5F53\u524D pm2 \u7BA1\u7406\u7684\u5E94\u7528\uFF08\u5C06\u5E94\u7528\u4FDD\u5B58\u5230/root/.pm2/dump.pm2 \u6587\u4EF6\u4E0B\uFF0C\u5F00\u673A\u81EA\u542F\u8BFB\u53D6\u5F53\u524D\u6587\u4EF6\u542F\u52A8\u9879\u76EE\uFF09</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">pm2 save</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>pm2 \u8865\u5145</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;">#\u542F\u52A8\u547D\u4EE4</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js </span><span style="color:#676E95;">#\u542F\u52A8nodeJs\u5E94\u7528\uFF0C\u8FDB\u7A0B\u7684\u9ED8\u8BA4\u540D\u79F0\u4E3A\u6587\u4EF6\u540Dapp</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js --name mynode </span><span style="color:#676E95;">#\u542F\u52A8node\uFF0C\u5E76\u6307\u5B9A\u8FDB\u7A0B\u540D\u79F0\u4E3Amynode</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - i max </span><span style="color:#676E95;">#\u6839\u636E\u6709\u6548CPU\u6570\u76EE\u542F\u52A8\u6700\u5927\u8FDB\u7A0B\u6570\u76EE</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - i 3 </span><span style="color:#676E95;">#\u542F\u52A83\u4E2A\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js --watch </span><span style="color:#676E95;">#\u5B9E\u65F6\u76D1\u63A7\u7684\u65B9\u5F0F\u542F\u52A8\uFF0C\u6587\u4EF6\u6709\u53D8\u52A8\uFF0Cpm2\u4F1A\u81EA\u52A8reload\uFF08\u5982\u679C\u8981\u5FFD\u7565\u4E00\u4E9B\u6587\u4EF6\u7684\u53D8\u52A8\uFF0C\u8981\u5355\u72EC\u8BBE\u7F6E\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - x </span><span style="color:#676E95;">#\u7528fork\u6A21\u5F0F\u542F\u52A8 app.js \u800C\u4E0D\u662F\u4F7F\u7528 cluster</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - x\u2013 - a 23 </span><span style="color:#676E95;">#\u7528fork\u6A21\u5F0F\u542F\u52A8 app.js \u5E76\u4E14\u4F20\u9012\u53C2\u6570\uFF08-a 23\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.json </span><span style="color:#676E95;">#\u542F\u52A8\u8FDB\u7A0B, \u5728app.json\u91CC\u8BBE\u7F6E\u9009\u9879</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - i max\u2013 - a 23 </span><span style="color:#676E95;">#\u5728 \u2013 \u4E4B\u540E\u7ED9 app.js \u4F20\u9012\u53C2\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 start app.js  - i max - e err.log - o out.log </span><span style="color:#676E95;">#\u542F\u52A8\u5E76\u751F\u6210\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u67E5\u770B\u4E0E\u76D1\u89C6\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 list </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> pm2 ls </span><span style="color:#676E95;">#\u663E\u793A\u6240\u6709\u8FDB\u7A0B\uFF1B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 show 0 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> pm2 info 0 </span><span style="color:#676E95;">#\u67E5\u770B\u8FDB\u7A0Bid\u4E3A0\u7684\u8BE6\u7EC6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 monit </span><span style="color:#676E95;">#\u8FDB\u5165\u76D1\u89C6\u9875\u9762\uFF0C\u76D1\u89C6\u6BCF\u4E2Anode\u8FDB\u7A0B\u7684CPU\u548C\u5185\u5B58\u7684\u4F7F\u7528\u60C5\u51B5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u505C\u6B62\u3001\u5220\u9664\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 stop 0 </span><span style="color:#676E95;">#\u505C\u6B62id\u4E3A0\u7684\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 stop all </span><span style="color:#676E95;">#\u505C\u6B62\u6240\u6709\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 delete 0 </span><span style="color:#676E95;">#\u5220\u9664id\u4E3A0\u7684\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 delete all </span><span style="color:#676E95;">#\u5220\u9664\u6240\u6709\u8FDB\u7A0B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u91CD\u542F\u3001\u91CD\u8F7D</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 restart 0 </span><span style="color:#676E95;">#\u91CD\u542Fid\u4E3A0\u7684\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 restart all </span><span style="color:#676E95;">#\u91CD\u542F\u6240\u6709\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 reload 0 </span><span style="color:#676E95;">#0\u79D2\u505C\u673A\u91CD\u8F7Did\u4E3A0\u8FDB\u7A0B\uFF08\u7528\u4E8E NETWORKED \u8FDB\u7A0B\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 reload all </span><span style="color:#676E95;">#\u91CD\u8F7D\u6240\u6709\u8FDB\u7A0B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u65E5\u5FD7\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 logs </span><span style="color:#676E95;">#\u663E\u793A\u6240\u6709\u8FDB\u7A0B\u7684\u65E5\u5FD7</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 logs 0 </span><span style="color:#676E95;">#\u663E\u793A\u8FDB\u7A0Bid\u4E3A0\u7684\u65E5\u5FD7</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 flush </span><span style="color:#676E95;">#\u6E05\u7A7A\u6240\u6709\u65E5\u5FD7\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 reloadLogs </span><span style="color:#676E95;">#\u91CD\u8F7D\u6240\u6709\u65E5\u5FD7</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 startup </span><span style="color:#676E95;">#\u4EA7\u751Finit\u811A\u672C\uFF0C\u4FDD\u6301\u8FDB\u7A0B\u6D3B\u7740</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u6740\u6B7BPM2\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">pm2 </span><span style="color:#82AAFF;">kill</span></span>
<span class="line"></span></code></pre></div>`,86),r=[c];function i(y,C,d,A,D,g){return n(),a("div",null,r)}const b=s(t,[["render",i]]);export{m as __pageData,b as default};
